<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <link rel="stylesheet" href="../styles/home_style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- <script>
        function getCookie(name) {
            const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'))
            return match ? match[2] : null
        }
    </script> -->

</head>

<body>

    <nav class="navbar">
        <div class="logo">EVOLVOEA</div>
        <ul class="nav-links">
            <li><a href="index.html">Game</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="leaderboard.html">LeaderBoard</a></li>
            <li><a href="forum.html">Forum</a></li>
        </ul>
        <div class="auth-links">
            <a href="login.html" id="login-btn">Login</a>
            <a href="signup.html" id="signup-btn">Sign Up</a>
            <p></p>
            <p></p>
            <p></p>
            <button id="logout-btn">Logout</button>
            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    const loginButton = document.getElementById('login-btn');
                    const signupButton = document.getElementById('signup-btn');
                    const logoutButton = document.getElementById('logout-btn');

                    // Check if user is logged in (using sessionStorage)
                    let isLoggedIn = false
                        
                    // Update button visibility
                    function updateButtonVisibility() {
                        if (isLoggedIn) {
                            loginButton.style.display = 'none';
                            signupButton.style.display = 'none';
                            logoutButton.style.display = 'inline-block';
                        } else {
                            loginButton.style.display = 'inline-block';
                            signupButton.style.display = 'inline-block';
                            logoutButton.style.display = 'none';
                        }
                    }

                    // Call function on page load
                    updateButtonVisibility();

                    // Logout function
                    logoutButton.addEventListener("click", function () {
                        isLoggedIn = false
                        updateButtonVisibility(); // Update UI
                        alert("You have been logged out.");
                    });
                    const main = async () => {
                        const response = await fetch("/pageload");
                        const json = await response.json()
                        if(json.result == "success") {
                            isLoggedIn = true;
                            updateButtonVisibility()
                        }
                    }
                    main()
                });
                
            </script>

        </div>
    </nav>

    <section class="hero">
        <h1>Welcome to Evolvoea</h1><br>
        <p>Your one-stop shop for amazing gaming experience</p><br><br>
        <a href="index.html" class="cta-button">Explore</a>
    </section>

</body>

</html>